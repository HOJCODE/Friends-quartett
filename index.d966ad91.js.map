{"mappings":"AAAA,MAAMA,IAAM,kDACNC,SAAWC,SAASC,cAAc,aAExC,SAASC,gBAAeC,KAACA,EAAIC,MAAEA,EAAKC,OAAEA,EAAMC,IAAEA,EAAGC,MAAEA,EAAKC,MAAEA,IACxD,MAAO,yHAyCAL,yHAQJC,8IASOC,8EAINC,qGAIAC,6HAMLC,+E,UAUIC,aAAAC,EAAA,I,aAOuBZ,KAAAa,MAASC,KAAAC,SAAAF,MAAAC,KAAAE,UAAAC,OAAAC,I,GAAE,IAAAN,EAEnC,MADAX,SAAMkB,UAPT,4GAQSD,EAGN,OAAIP,aAAeC,EAAkB,K,UAIrCQ,mBAAkBC,G,MAGhB,G,EAEDC,SAAAC,IACJC,SAAA,CAEQnB,KAAA,GAAAkB,EAAelB,KAAAoB,SAAeF,EAAAlB,KAAWqB,OAEzCpB,MAAAiB,EAAaI,QAAQC,MAC1BrB,OAAMgB,EAAAhB,OAENC,IAAOe,EAAAM,IAAArB,IACNC,MAAAc,EAAAd,MACJC,MAAAa,EAAAb,OAGCoB,GAAM1B,eAAgBoB,SAAA,I,SAEpBL,UAAkBW,C,UAElBC,e,SACA5B,cAAA,WAAA6B,iBAAA,kBAAAC,GAEEA,EAAAC,iBACLC,KAAAC,UAAAC,OAAA,UAEDnC,SAASC,cAAiB,UAAAiC,UAAAC,OAAA,UACtBnC,SAAMC,cAAqB,SAAKiC,UAAWC,OAAU,UACrD,G,UAGHC,OAAAjB,GAED,MAASkB,EAAArC,SAAgBC,cAAA,SACrBoC,EAAAP,iBAAsB,SAAC,EAAAQ,aACvB,IAAMC,EAAiB,IAEZpB,GAGf,MAASqB,EAAiBH,EAAAI,OAAeC,MAC/BC,EAAcN,EAAGO,KAASF,MAE5BG,EAAsBR,EAAAhC,OAAgBqC,MACrCF,IAAoBD,EAAgBO,eAAAP,EAA2BC,IACvEG,GAAAI,OAAAR,EAAAI,GAEQE,IAAmBN,EAAAS,iBAAAT,EAAAM,IACS,IAAzBN,EAAcU,OAAWlD,SAAAkB,UAAwB,yDACrDC,mBAAmBqB,EAAW,G,CAItC,SAAAO,eAAuBP,EAAGW,GACtB,OAAMX,EAAYY,QAAM9B,GAEL,GAASA,EAAElB,KAAAoB,SAAAF,EAAAlB,KAAAqB,OACf4B,cAAAC,SAAAH,EAAAE,gB,UAGlBL,OAAAR,EAAAI,GAED,MAAUW,EAAC,C","sources":["src/scripts/app.js"],"sourcesContent":["const url = 'https://randomuser.me/api/?results=80&seed=fa21';\r\nconst usersBox = document.querySelector('.usersBox');\r\n\r\nfunction createUserCard({name, photo, gender, age, phone, email}) {\r\n  return `\r\n    <div class=\"userCard\">\r\n      <div class=\"userCard__inner\">\r\n        <h2 class=\"userCard__userName\">\r\n          ${name}\r\n        </h2>\r\n\r\n        <div class=\"userCard__userPhotoWrapper\">\r\n          <img  class=\"userCard__userPhoto\" src=${photo} alt=\"photo\">\r\n        </div>\r\n\r\n        <div class=\"userCard__userInfo userInfo\">\r\n\r\n          <div class=\"userInfo__item\">\r\n            ${gender}\r\n          </div>\r\n\r\n          <div class=\"userInfo__item\">\r\n            ${age} years old\r\n          </div>\r\n\r\n          <div class=\"userInfo__item\">\r\n            <a href=\"tel:${phone}\">${phone}</a>\r\n          </div>\r\n\r\n          <div class=\"userInfo__item userInfo__item--mail\">\r\n            <a href=\"mailto:${email}\">${email}</a>\r\n          </div>  \r\n        </div>\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction getUsersInfo(requestAttempts = 10) {\r\n  const errorMessage = `\r\n    <h2 class=\"error-message\">\r\n      Server is unavailable<br>Please try again later...\r\n    </h2>\r\n  `;\r\n\r\n  return fetch(url)\r\n  .then(response => response.json())\r\n  .then(response => response.results)\r\n  .catch(err => {\r\n    if (requestAttempts === 0) {\r\n      usersBox.innerHTML = errorMessage;\r\n      \r\n      throw err;\r\n    }\r\n\r\n    return getUsersInfo(requestAttempts - 1);\r\n  });\r\n}\r\n\r\nfunction addUserCardsOnPage(usersInfo) {\r\n  let userCards = '';\r\n\r\n  usersInfo.forEach(user => {\r\n    userInfo = {\r\n      name: `${user.name.first} ${user.name.last}`,\r\n      photo: user.picture.large, \r\n      gender: user.gender, \r\n      age: user.dob.age, \r\n      phone: user.phone,\r\n      email: user.email\r\n    };\r\n\r\n    userCards += createUserCard(userInfo);\r\n  });\r\n\r\n  usersBox.innerHTML = userCards;\r\n}\r\n\r\nfunction doBurgerMenu() {\r\n  document.querySelector('.burger').addEventListener('click', function (e) {\r\n    e.preventDefault();\r\n\r\n    this.classList.toggle('active');\r\n\r\n    document.querySelector('.aside').classList.toggle('active');\r\n    document.querySelector('.body').classList.toggle('blocked');\r\n  });\r\n}\r\n\r\nfunction doMenu(usersInfo) {\r\n  const menu = document.querySelector('.menu');\r\n\r\n  menu.addEventListener('input', ({target}) => {\r\n    let usersInfoCopy = [...usersInfo];\r\n    const inputSearchName = menu.search.value;\r\n    const inputSort = menu.sort.value;\r\n    const inputGenderFilter = menu.gender.value;\r\n    \r\n    if (inputSearchName) usersInfoCopy = doSearchByName(usersInfoCopy, inputSearchName);\r\n    if (inputSort) doSort(usersInfoCopy, inputSort);\r\n    if (inputGenderFilter) usersInfoCopy = doFilterByGender(usersInfoCopy, inputGenderFilter);\r\n\r\n    if (usersInfoCopy.length === 0) {\r\n      usersBox.innerHTML = '<h2 class=\"usersBox__message\">No matches found...</h2>';\r\n    } else {\r\n      addUserCardsOnPage(usersInfoCopy);\r\n    }\r\n  });\r\n}\r\n\r\nfunction doSearchByName(usersInfoCopy, inputSearch) {\r\n\r\n  return usersInfoCopy.filter(user => {\r\n    const userFullName = `${user.name.first} ${user.name.last}`;\r\n\r\n    return userFullName.toLowerCase().includes(inputSearch.toLowerCase());\r\n  });\r\n}\r\n\r\nfunction doSort(usersInfoCopy, inputSort) {\r\n  const sortFunctions = {\r\n    sortNameAZ: () => usersInfoCopy.sort((a, b) => sortByName(a, b)),\r\n    sortNameZA: () => usersInfoCopy.sort((b, a) => sortByName(a, b)),\r\n    sortAgeAsc: () => usersInfoCopy.sort((a, b) => sortByAge(a, b)),\r\n    sortAgeDesc: () => usersInfoCopy.sort((b, a) => sortByAge(a, b))\r\n  };\r\n\r\n  if (sortFunctions.hasOwnProperty(inputSort)) sortFunctions[inputSort]();\r\n}\r\n\r\nfunction sortByName(a, b) {\r\n    const fullUserNameA = `${a.name.first} ${a.name.last}`;\r\n    const fullUserNameB = `${b.name.first} ${b.name.last}`;\r\n\r\n    return fullUserNameA.localeCompare(fullUserNameB);\r\n}\r\n\r\nfunction sortByAge(a, b) {\r\n    const ageA = a.dob.age;\r\n    const ageB = b.dob.age;\r\n\r\n    return ageA - ageB;       \r\n}\r\n\r\nfunction doFilterByGender(usersInfoCopy, inputGenderFilter) {\r\n    const inputGenderAll = document.querySelector('#all').value;\r\n\r\n    if (inputGenderFilter === inputGenderAll) return usersInfoCopy;\r\n    else return usersInfoCopy.filter(user => inputGenderFilter === user.gender);\r\n}\r\n\r\nfunction doReset(usersInfo) {\r\n    document.querySelector('#reset').addEventListener('click', (e) => {\r\n        addUserCardsOnPage(usersInfo);\r\n    });\r\n}\r\n\r\nasync function startApp() {\r\n    const usersInfo = await getUsersInfo();\r\n\r\n    addUserCardsOnPage(usersInfo);\r\n    doBurgerMenu();\r\n    doMenu(usersInfo);\r\n    doReset(usersInfo);\r\n}\r\n\r\nstartApp();\r\n"],"names":["url","usersBox","document","querySelector","createUserCard","name","photo","gender","age","phone","email","getUsersInfo","requestAttempts","then","response","json","results","catch","err","innerHTML","addUserCardsOnPage","usersInfo","forEach","user","userInfo","first","last","picture","large","dob","userCards","doBurgerMenu","addEventListener","e","preventDefault","this","classList","toggle","doMenu","menu","target","usersInfoCopy","inputSearchName","search","value","inputSort","sort","inputGenderFilter","doSearchByName","doSort","doFilterByGender","length","inputSearch","filter","toLowerCase","includes","sortFunctions"],"version":3,"file":"index.d966ad91.js.map"}