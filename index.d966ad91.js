const url="https://randomuser.me/api/?results=80&seed=fa21",usersBox=document.querySelector(".usersBox");function createUserCard({name:e,photo:r,gender:n,age:s,phone:t,email:a}){return`\n    <div class="userCard">\n      <div class="userCard__inner">\n        <h2 class="userCard__userName">\n          ${e}\n        </h2>\n\n        <div class="userCard__userPhotoWrapper">\n          <img  class="userCard__userPhoto" src=${r} alt="photo">\n        </div>\n\n        <div class="userCard__userInfo userInfo">\n\n          <div class="userInfo__item">\n            ${n}\n          </div>\n\n          <div class="userInfo__item">\n            ${s} years old\n          </div>\n\n          <div class="userInfo__item">\n            <a href="tel:${t}">${t}</a>\n          </div>\n\n          <div class="userInfo__item userInfo__item--mail">\n            <a href="mailto:${a}">${a}</a>\n          </div>  \n        </div>\n      </div>\n    </div>\n  `}function getUsersInfo(e=10){return fetch(url).then((e=>e.json())).then((e=>e.results)).catch((r=>{if(0===e)throw usersBox.innerHTML='\n    <h2 class="error-message">\n      Server is unavailable<br>Please try again later...\n    </h2>\n  ',r;return getUsersInfo(e-1)}))}function addUserCardsOnPage(e){let r="";e.forEach((e=>{userInfo={name:`${e.name.first} ${e.name.last}`,photo:e.picture.large,gender:e.gender,age:e.dob.age,phone:e.phone,email:e.email},r+=createUserCard(userInfo)})),usersBox.innerHTML=r}function doBurgerMenu(){document.querySelector(".burger").addEventListener("click",(function(e){e.preventDefault(),this.classList.toggle("active"),document.querySelector(".aside").classList.toggle("active"),document.querySelector(".body").classList.toggle("blocked")}))}function doMenu(e){const r=document.querySelector(".menu");r.addEventListener("input",(({target:n})=>{let s=[...e];const t=r.search.value,a=r.sort.value,o=r.gender.value;t&&(s=doSearchByName(s,t)),a&&doSort(s,a),o&&(s=doFilterByGender(s,o)),0===s.length?usersBox.innerHTML='<h2 class="usersBox__message">No matches found...</h2>':addUserCardsOnPage(s)}))}function doSearchByName(e,r){return e.filter((e=>`${e.name.first} ${e.name.last}`.toLowerCase().includes(r.toLowerCase())))}function doSort(e,r){const n={sortNameAZ:()=>e.sort(((e,r)=>sortByName(e,r))),sortNameZA:()=>e.sort(((e,r)=>sortByName(r,e))),sortAgeAsc:()=>e.sort(((e,r)=>sortByAge(e,r))),sortAgeDesc:()=>e.sort(((e,r)=>sortByAge(r,e)))};n.hasOwnProperty(r)&&n[r]()}function sortByName(e,r){const n=`${e.name.first} ${e.name.last}`,s=`${r.name.first} ${r.name.last}`;return n.localeCompare(s)}function sortByAge(e,r){return e.dob.age-r.dob.age}function doFilterByGender(e,r){const n=document.querySelector("#all").value;return r===n?e:e.filter((e=>r===e.gender))}function doReset(e){document.querySelector("#reset").addEventListener("click",(r=>{addUserCardsOnPage(e)}))}async function startApp(){const e=await getUsersInfo();addUserCardsOnPage(e),doBurgerMenu(),doMenu(e),doReset(e)}startApp();
//# sourceMappingURL=index.d966ad91.js.map
